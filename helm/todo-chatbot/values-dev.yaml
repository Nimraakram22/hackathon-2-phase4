# Development-specific values for Helm chart
# These values override values.yaml for development environment

# Backend configuration
backend:
  replicas: 1
  image: todo-chatbot-backend
  tag: latest
  pullPolicy: IfNotPresent
  port: 8000

  # Development resources (lower limits)
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "250m"

  # Faster health checks for development
  livenessProbe:
    httpGet:
      path: /health
      port: 8000
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

  readinessProbe:
    httpGet:
      path: /health
      port: 8000
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3

# Frontend configuration
frontend:
  replicas: 1
  image: todo-chatbot-frontend
  tag: latest
  pullPolicy: IfNotPresent
  port: 5173  # Vite dev server port

  # Development resources (lower limits)
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"

  # Faster health checks for development
  livenessProbe:
    httpGet:
      path: /
      port: 5173
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

  readinessProbe:
    httpGet:
      path: /
      port: 5173
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3

# Service configuration
service:
  frontend:
    type: NodePort
    port: 80
    targetPort: 5173  # Vite dev server
    nodePort: 30080

  backend:
    type: ClusterIP
    port: 8000
    targetPort: 8000

# Update strategy - faster for development
strategy:
  type: RollingUpdate
  rollingUpdate:
    maxSurge: 1
    maxUnavailable: 0

# Persistence - keep enabled for SQLite
backend:
  persistence:
    enabled: true
    size: 1Gi  # Smaller for development
    storageClass: standard
    mountPath: /app/data
